let e,t,r;try{e=new TextDecoder}catch(e){}let n=0;const o={};let a,s,i,l,u,d,c,f={},h=0,p=0,w=[],y=[],m={useRecords:!1,mapsAsObjects:!0},g=!1;class b{constructor(e){if(e&&(!e.keyMap&&!e._keyMap||e.useRecords||(e.useRecords=!1,e.mapsAsObjects=!0),!1===e.useRecords&&void 0===e.mapsAsObjects&&(e.mapsAsObjects=!0),e.getStructures&&(e.getShared=e.getStructures),e.getShared&&!e.structures&&((e.structures=[]).uninitialized=!0),e.keyMap)){this.mapKey=new Map;for(let[t,r]of Object.entries(e.keyMap))this.mapKey.set(r,t)}Object.assign(this,e)}decodeKey(e){return this.keyMap&&this.mapKey.get(e)||e}encodeKey(e){return this.keyMap&&this.keyMap.hasOwnProperty(e)?this.keyMap[e]:e}encodeKeys(e){if(!this._keyMap)return e;let t=new Map;for(let[r,n]of Object.entries(e))t.set(this._keyMap.hasOwnProperty(r)?this._keyMap[r]:r,n);return t}decodeKeys(e){if(!this._keyMap||"Map"!=e.constructor.name)return e;if(!this._mapKey){this._mapKey=new Map;for(let[e,t]of Object.entries(this._keyMap))this._mapKey.set(t,e)}let t={};return e.forEach(((e,r)=>t[M(this._mapKey.has(r)?this._mapKey.get(r):r)]=e)),t}mapDecode(e,t){let r=this.decode(e);return this._keyMap&&"Array"===r.constructor.name?r.map((e=>this.decodeKeys(e))):r}decode(e,o){if(t)return Z((()=>(z(),this?this.decode(e,o):b.prototype.decode.call(m,e,o))));r=o>-1?o:e.length,n=0,p=0,s=null,i=null,t=e;try{d=e.dataView||(e.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength))}catch(r){if(t=null,e instanceof Uint8Array)throw r;throw new Error("Source must be a Uint8Array or Buffer but was a "+(e&&"object"==typeof e?e.constructor.name:typeof e))}if(this instanceof b){if(f=this,u=this.sharedValues&&(this.pack?new Array(this.maxPrivatePackedValues||16).concat(this.sharedValues):this.sharedValues),this.structures)return a=this.structures,v();(!a||a.length>0)&&(a=[])}else f=m,(!a||a.length>0)&&(a=[]),u=null;return v()}decodeMultiple(e,t){let r,o=0;try{let a=e.length;g=!0;let s=this?this.decode(e,a):$.decode(e,a);if(!t){for(r=[s];n<a;)o=n,r.push(v());return r}if(!1===t(s))return;for(;n<a;)if(o=n,!1===t(v()))return}catch(e){throw e.lastPosition=o,e.values=r,e}finally{g=!1,z()}}}function v(){try{let e=k();if(i){if(n>=i.postBundlePosition){let e=new Error("Unexpected bundle position");throw e.incomplete=!0,e}n=i.postBundlePosition,i=null}if(n==r)a=null,t=null,l&&(l=null);else{if(n>r){let e=new Error("Unexpected end of CBOR data");throw e.incomplete=!0,e}if(!g)throw new Error("Data read, but end of buffer not reached")}return e}catch(e){throw z(),(e instanceof RangeError||e.message.startsWith("Unexpected end of buffer"))&&(e.incomplete=!0),e}}function k(){let e=t[n++],l=e>>5;if(e&=31,e>23)switch(e){case 24:e=t[n++];break;case 25:if(7==l)return function(){let e=t[n++],r=t[n++],o=(127&e)>>2;if(31===o)return r||3&e?NaN:128&e?-1/0:1/0;if(0===o){let t=((3&e)<<8|r)/(1<<24);return 128&e?-t:t}return O[3]=128&e|56+(o>>1),O[2]=(7&e)<<5|r>>3,O[1]=r<<5,O[0]=0,S[0]}();e=d.getUint16(n),n+=2;break;case 26:if(7==l){let e=d.getFloat32(n);if(f.useFloat32>2){let r=q[(127&t[n])<<1|t[n+1]>>7];return n+=4,(r*e+(e>0?.5:-.5)>>0)/r}return n+=4,e}e=d.getUint32(n),n+=4;break;case 27:if(7==l){let e=d.getFloat64(n);return n+=8,e}if(l>1){if(d.getUint32(n)>0)throw new Error("JavaScript does not support arrays, maps, or strings with length over 4294967295");e=d.getUint32(n+4)}else f.int64AsNumber?(e=4294967296*d.getUint32(n),e+=d.getUint32(n+4)):e=d.getBigUint64(n);n+=8;break;case 31:switch(l){case 2:case 3:throw new Error("Indefinite length not supported for byte or text strings");case 4:let e,t=[],r=0;for(;(e=k())!=o;)t[r++]=e;return 4==l?t:3==l?t.join(""):Buffer.concat(t);case 5:let n;if(f.mapsAsObjects){let e={};if(f.keyMap)for(;(n=k())!=o;)e[M(f.decodeKey(n))]=k();else for(;(n=k())!=o;)e[M(n)]=k();return e}{c&&(f.mapsAsObjects=!0,c=!1);let e=new Map;if(f.keyMap)for(;(n=k())!=o;)e.set(f.decodeKey(n),k());else for(;(n=k())!=o;)e.set(n,k());return e}case 7:return o;default:throw new Error("Invalid major type for indefinite length "+l)}default:throw new Error("Unknown token "+e)}switch(l){case 0:return e;case 1:return~e;case 2:return m=e,f.copyBuffers?Uint8Array.prototype.slice.call(t,n,n+=m):t.subarray(n,n+=m);case 3:if(p>=n)return s.slice(n-h,(n+=e)-h);if(0==p&&r<140&&e<32){let r=e<16?T(e):function(e){let r=n,o=new Array(e);for(let a=0;a<e;a++){const e=t[n++];if((128&e)>0)return void(n=r);o[a]=e}return _.apply(String,o)}(e);if(null!=r)return r}return U(e);case 4:let o=new Array(e);for(let t=0;t<e;t++)o[t]=k();return o;case 5:if(f.mapsAsObjects){let t={};if(f.keyMap)for(let r=0;r<e;r++)t[M(f.decodeKey(k()))]=k();else for(let r=0;r<e;r++)t[M(k())]=k();return t}{c&&(f.mapsAsObjects=!0,c=!1);let t=new Map;if(f.keyMap)for(let r=0;r<e;r++)t.set(f.decodeKey(k()),k());else for(let r=0;r<e;r++)t.set(k(),k());return t}case 6:if(e>=57337){let t=a[8191&e];if(t)return t.read||(t.read=A(t)),t.read();if(e<65536){if(57343==e)return P(k());if(57342==e){let e=F(),t=k();for(let r=2;r<e;r++)P([t++,k()]);return k()}if(57337==e)return function(){let e=F(),t=n+k();for(let t=2;t<e;t++){let e=F();n+=e}let r=n;return n=t,i=[R(F()),R(F())],i.position0=0,i.position1=0,i.postBundlePosition=n,n=r,k()}();if(f.getShared&&(V(),t=a[8191&e],t))return t.read||(t.read=A(t)),t.read()}}let l=w[e];if(l)return l.handlesRead?l(k):l(k());{let t=k();for(let r=0;r<y.length;r++){let n=y[r](e,t);if(void 0!==n)return n}return new x(t,e)}case 7:switch(e){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;default:let t=(u||K())[e];if(void 0!==t)return t;throw new Error("Unknown token "+e)}default:if(isNaN(e)){let e=new Error("Unexpected end of CBOR data");throw e.incomplete=!0,e}throw new Error("Unknown CBOR token "+e)}var m}const E=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function A(e){return e.slowReads=0,function(){let e=t[n++];if(e&=31,e>23)switch(e){case 24:e=t[n++];break;case 25:e=d.getUint16(n),n+=2;break;case 26:e=d.getUint32(n),n+=4;break;default:throw new Error("Expected array header, but got "+t[n-1])}let r=this.compiledReader;for(;r;){if(r.propertyCount===e)return r(k);r=r.next}if(this.slowReads++>=3){let t=this.length==e?this:this.slice(0,e);return r=f.keyMap?new Function("r","return {"+t.map((e=>f.decodeKey(e))).map((e=>E.test(e)?M(e)+":r()":"["+JSON.stringify(e)+"]:r()")).join(",")+"}"):new Function("r","return {"+t.map((e=>E.test(e)?M(e)+":r()":"["+JSON.stringify(e)+"]:r()")).join(",")+"}"),this.compiledReader&&(r.next=this.compiledReader),r.propertyCount=e,this.compiledReader=r,r(k)}let o={};if(f.keyMap)for(let t=0;t<e;t++)o[M(f.decodeKey(this[t]))]=k();else for(let t=0;t<e;t++)o[M(this[t])]=k();return o}}function M(e){return"__proto__"===e?"__proto_":e}let U=R;function R(r){let o;if(r<16&&(o=T(r)))return o;if(r>64&&e)return e.decode(t.subarray(n,n+=r));const a=n+r,s=[];for(o="";n<a;){const e=t[n++];if(0==(128&e))s.push(e);else if(192==(224&e)){const r=63&t[n++];s.push((31&e)<<6|r)}else if(224==(240&e)){const r=63&t[n++],o=63&t[n++];s.push((31&e)<<12|r<<6|o)}else if(240==(248&e)){let r=(7&e)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++];r>65535&&(r-=65536,s.push(r>>>10&1023|55296),r=56320|1023&r),s.push(r)}else s.push(e);s.length>=4096&&(o+=_.apply(String,s),s.length=0)}return s.length>0&&(o+=_.apply(String,s)),o}let _=String.fromCharCode;function T(e){if(e<4){if(e<2){if(0===e)return"";{let e=t[n++];return(128&e)>1?void(n-=1):_(e)}}{let r=t[n++],o=t[n++];if((128&r)>0||(128&o)>0)return void(n-=2);if(e<3)return _(r,o);let a=t[n++];return(128&a)>0?void(n-=3):_(r,o,a)}}{let r=t[n++],o=t[n++],a=t[n++],s=t[n++];if((128&r)>0||(128&o)>0||(128&a)>0||(128&s)>0)return void(n-=4);if(e<6){if(4===e)return _(r,o,a,s);{let e=t[n++];return(128&e)>0?void(n-=5):_(r,o,a,s,e)}}if(e<8){let i=t[n++],l=t[n++];if((128&i)>0||(128&l)>0)return void(n-=6);if(e<7)return _(r,o,a,s,i,l);let u=t[n++];return(128&u)>0?void(n-=7):_(r,o,a,s,i,l,u)}{let i=t[n++],l=t[n++],u=t[n++],d=t[n++];if((128&i)>0||(128&l)>0||(128&u)>0||(128&d)>0)return void(n-=8);if(e<10){if(8===e)return _(r,o,a,s,i,l,u,d);{let e=t[n++];return(128&e)>0?void(n-=9):_(r,o,a,s,i,l,u,d,e)}}if(e<12){let c=t[n++],f=t[n++];if((128&c)>0||(128&f)>0)return void(n-=10);if(e<11)return _(r,o,a,s,i,l,u,d,c,f);let h=t[n++];return(128&h)>0?void(n-=11):_(r,o,a,s,i,l,u,d,c,f,h)}{let c=t[n++],f=t[n++],h=t[n++],p=t[n++];if((128&c)>0||(128&f)>0||(128&h)>0||(128&p)>0)return void(n-=12);if(e<14){if(12===e)return _(r,o,a,s,i,l,u,d,c,f,h,p);{let e=t[n++];return(128&e)>0?void(n-=13):_(r,o,a,s,i,l,u,d,c,f,h,p,e)}}{let w=t[n++],y=t[n++];if((128&w)>0||(128&y)>0)return void(n-=14);if(e<15)return _(r,o,a,s,i,l,u,d,c,f,h,p,w,y);let m=t[n++];return(128&m)>0?void(n-=15):_(r,o,a,s,i,l,u,d,c,f,h,p,w,y,m)}}}}}let S=new Float32Array(1),O=new Uint8Array(S.buffer,0,4);new Array(4096);class x{constructor(e,t){this.value=e,this.tag=t}}w[0]=e=>new Date(e),w[1]=e=>new Date(Math.round(1e3*e)),w[2]=e=>{let t=BigInt(0);for(let r=0,n=e.byteLength;r<n;r++)t=BigInt(e[r])+t<<BigInt(8);return t},w[3]=e=>BigInt(-1)-w[2](e),w[4]=e=>+(e[1]+"e"+e[0]),w[5]=e=>e[1]*Math.exp(e[0]*Math.log(2));const P=e=>{let t=e[0]-57344,r=e[1],n=a[t];n&&n.isShared&&((a.restoreStructures||(a.restoreStructures=[]))[t]=n),a[t]=r,r.read=A(r);let o={};if(f.keyMap)for(let t=2,n=e.length;t<n;t++){o[M(f.decodeKey(r[t-2]))]=e[t]}else for(let t=2,n=e.length;t<n;t++){o[M(r[t-2])]=e[t]}return o};w[105]=P,w[14]=e=>i?i[0].slice(i.position0,i.position0+=e):new x(e,14),w[15]=e=>i?i[1].slice(i.position1,i.position1+=e):new x(e,15);let j={Error:Error,RegExp:RegExp};w[27]=e=>(j[e[0]]||Error)(e[1],e[2]);const L=e=>{if(132!=t[n++])throw new Error("Packed values structure must be followed by a 4 element array");let r=e();return u=u?r.concat(u.slice(r.length)):r,u.prefixes=e(),u.suffixes=e(),e()};function C(e,t){return"string"==typeof e?e+t:e instanceof Array?e.concat(t):Object.assign({},e,t)}function K(){if(!u){if(!f.getShared)throw new Error("No packed values available");V()}return u}L.handlesRead=!0,w[51]=L,w[6]=e=>{if(!u){if(!f.getShared)return new x(e,6);V()}if("number"==typeof e)return u[16+(e>=0?2*e:-2*e-1)];throw new Error("No support for non-integer packed references yet")},w[28]=e=>{l||(l=new Map,l.id=0);let r,o=l.id++;r=t[n]>>5==4?[]:{};let a={target:r};l.set(o,a);let s=e();return a.used?Object.assign(r,s):(a.target=s,s)},w[28].handlesRead=!0,w[29]=e=>{let t=l.get(e);return t.used=!0,t.target},w[258]=e=>new Set(e),(w[259]=e=>(f.mapsAsObjects&&(f.mapsAsObjects=!1,c=!0),e())).handlesRead=!0;y.push(((e,t)=>e>=225&&e<=255?C(K().prefixes[e-224],t):e>=28704&&e<=32767?C(K().prefixes[e-28672],t):e>=1879052288&&e<=2147483647?C(K().prefixes[e-1879048192],t):e>=216&&e<=223?C(t,K().suffixes[e-216]):e>=27647&&e<=28671?C(t,K().suffixes[e-27639]):e>=1811940352&&e<=1879048191?C(t,K().suffixes[e-1811939328]):1399353956==e?{packedValues:u,structures:a.slice(0),version:t}:55799==e?t:void 0));const B=1==new Uint8Array(new Uint16Array([1]).buffer)[0],I=[Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array,"undefined"==typeof BigUint64Array?{name:"BigUint64Array"}:BigUint64Array,Int8Array,Int16Array,Int32Array,"undefined"==typeof BigInt64Array?{name:"BigInt64Array"}:BigInt64Array,Float32Array,Float64Array],N=[64,68,69,70,71,72,77,78,79,85,86];for(let e=0;e<I.length;e++)D(I[e],N[e]);function D(e,t){let r="get"+e.name.slice(0,-5);if("function"!=typeof e)return;let n=e.BYTES_PER_ELEMENT;for(let o=0;o<2;o++){if(!o&&1==n)continue;let a=2==n?1:4==n?2:3;w[o?t:t-4]=1==n||o==B?r=>{if(!e)throw new Error("Could not find typed array for code "+t);return new e(Uint8Array.prototype.slice.call(r,0).buffer)}:n=>{if(!e)throw new Error("Could not find typed array for code "+t);let s=new DataView(n.buffer,n.byteOffset,n.byteLength),i=n.length>>a,l=new e(i),u=s[r];for(let e=0;e<i;e++)l[e]=u.call(s,e<<a,o);return l}}}function F(){let e=31&t[n++];if(e>23)switch(e){case 24:e=t[n++];break;case 25:e=d.getUint16(n),n+=2;break;case 26:e=d.getUint32(n),n+=4}return e}function V(){if(f.getShared){let e=Z((()=>(t=null,f.getShared())))||{},r=e.structures||[];f.sharedVersion=e.version,u=f.sharedValues=e.packedValues,!0===a?f.structures=a=r:a.splice.apply(a,[0,r.length].concat(r))}}function Z(e){let o=r,u=n,c=h,w=p,y=s,m=l,b=i,v=new Uint8Array(t.slice(0,r)),k=a,E=f,A=g,M=e();return r=o,n=u,h=c,p=w,s=y,l=m,i=b,t=v,g=A,a=k,f=E,d=new DataView(t.buffer,t.byteOffset,t.byteLength),M}function z(){t=null,l=null,a=null}const q=new Array(147);for(let e=0;e<256;e++)q[e]=+("1e"+Math.floor(45.15-.30103*e));let $=new b({useRecords:!1});const H=$.decode;$.decodeMultiple;class J extends Error{constructor(e){super(e),this.name="SessionTerminatedError",this.stack=new Error(e).stack}}class W extends Error{constructor(e){super(e),this.name="TimedOutError",this.stack=new Error(e).stack}}async function X(e,t,r){var n,o,a;const s=(null==r?void 0:r.timeout)||5e3,i=null==r?void 0:r.shotCb,l=null==r?void 0:r.onDisconnect,u=null==r?void 0:r.onCloseWarning,d=null==r?void 0:r.onCursor,c=null==r?void 0:r.webhookUserdata,f=null==r?void 0:r.onConnectionStateChange,h=null==r?void 0:r.cn,p=h?"string"==typeof h?h:"jquery-jquery-iblnwrmmqd.cn-hangzhou.fcapp.run":"jquery.tutturu.workers.dev";let w,y,m,g,b=!1!==(null==r?void 0:r.delegateKeyboard),v=!1;const k=()=>{v=!0,/^https:\/\/[a-z0-9]{25}\.hyperbeam\.com\//.test(t)&&(t="https://"+p+t.substring(t.indexOf("/")+1))};let E,A,M,U;function R(){m({type:"blur"})}if("IFRAME"===e.nodeName){if(null==r?void 0:r.frameCb)throw new TypeError("frameCb is not supported with IFrame for performance reasons, please pass in a div");if(null==r?void 0:r.audioTrackCb)throw new TypeError("audioTrackCb cannot be used with IFrame, please pass in a div");e.allow="autoplay; clipboard-read; clipboard-write",await new Promise(((r,n)=>{const o=()=>{E=setTimeout(a,s),e.src=t},a=()=>{v?n(new W("Timed out")):(k(),o())};h&&k(),o(),e.addEventListener("load",(()=>{clearTimeout(E),r()}),{once:!0}),fetch(t).then((e=>{400===e.status&&n(new J("Provided Hyperbeam embed_url's session has terminated"))})).catch((()=>{v||(clearTimeout(E),k(),o())}))})),w=e.contentWindow,m=e=>{w.postMessage(e,"*")},window.addEventListener("message",K),b&&(window.addEventListener("keydown",I,{passive:!0}),window.addEventListener("keyup",I,{passive:!0})),window.addEventListener("pagehide",R),window.addEventListener("blur",R)}else{y=e.shadowRoot||e.attachShadow({mode:"open"});const n=await new Promise(((e,r)=>{const n=t=>(clearTimeout(E),e(t),t),o=()=>{v||(clearTimeout(E),k(),a())},a=()=>{E=setTimeout(i,s);const e=new URL(t);e.searchParams.append("no_cbor","1");const r=fetch(e.toString());r.then(n),r.catch(o)},i=()=>{v?r(new W("Timed out")):(k(),a())};h&&k(),a()}));if(400===n.status)throw new J("Provided Hyperbeam embed_url's session has terminated");A=URL.createObjectURL(await n.blob());const o=(await import(/*webpackIgnore:true*//*@vite-ignore*/A)).default(y,n.url,B,{...r,cborDecode:H});m=o.handleMessage,g=o.destroy}c&&m({type:"webhook_auth",data:{webhookUserdata:c}});const _=await new Promise(((e,t)=>{U=e,M=setTimeout((()=>{t(new W("Timed out"))}),s)}));let{width:T,height:S}=_;const{user_id:O,max_area:x}=_,P={},j=new Map,L=new Map;function C(){for(var e=0;;e++)if(!(e in P)&&!j.has(e))return e}async function K(e){e.source===w&&B(e.data)}async function B(e){var t;if("i"in e&&!("m"in e)){const{i:t}=e,r=P[t];if(r){clearTimeout(r[2]),delete P[t];const{e:n}=e;null!=n?r[1](new Error(n)):r[0](e.r)}else{const r=j.get(t);if(r){const{r:t}=e;Array.isArray(t)?r[1](...t):r[1](t)}}}else if("type"in e)switch(e.type){case"connection":clearTimeout(M),U(e.data);break;case"ext_reconn":{const e=new Set;for(const[t,[r,n,o]]of j)r&&!e.has(n)&&(j.delete(t),L.delete(n),e.add(n),r(n,...o));break}case"blur":null===(t=document.activeElement)||void 0===t||t.blur();break;case"screenshot":{const{mime:t,buf:r,tabId:n}=e.data;i&&i({tabId:n,img:new Blob([r],{type:t})});break}case"disconnect":l&&l(e.data);break;case"close_warning":u&&u(e.data);break;case"connection_state":f&&f(e.data);break;case"peer_mouse":d&&d(e.data);break;case"resize":T=e.data.width,S=e.data.height}}function I(e){const{activeElement:t}=document;t&&("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName||t.isContentEditable)||m({type:e.type,key:e.key,ctrlKey:e.ctrlKey,metaKey:e.metaKey})}const N=(e,t)=>new Promise(((r,n)=>{const o=C(),a=setTimeout((()=>{const e=P[o];delete P[o],e[1](new Error("Timed out"))}),s);P[o]=[r,n,a],m({m:e,a:t,i:o,t:Y})})),D=e=>(...t)=>N(e,t),F=(e,t=!0)=>{const r=`${e}.addListener`,n=`${e}.removeListener`;return{addListener:async function e(n,...o){if(L.has(n))throw new Error("Can't bind same callback twice");return new Promise(((a,i)=>{const l=C(),u=setTimeout((()=>{const e=P[l];delete P[l],j.delete(l),L.delete(n),e[1](new Error("Timed out"))}),s);P[l]=[a,i,u],j.set(l,[t?e:void 0,n,o]),L.set(n,l),m({m:r,a:o,i:l})}))},async removeListener(e){const t=L.get(e);null!=t&&(await N(n,[t]),j.delete(t),L.delete(e))}}},V=D("resize"),Z=D("setPermissions"),z=D("addRoles"),q=D("removeRoles"),$=D("enablePrivacyMode"),X=D("disablePrivacyMode");let Y=null==r?void 0:r.adminToken,G=null!==(n=null==r?void 0:r.volume)&&void 0!==n?n:1,Q=null!==(o=null==r?void 0:r.videoPaused)&&void 0!==o&&o,ee=null!==(a=null==r?void 0:r.playoutDelay)&&void 0!==a&&a;const te={userId:O,get width(){return T},get height(){return S},maxArea:x,get adminToken(){return Y},set adminToken(e){Y=e,m({type:"admin_token",data:e})},tabs:{create:D("tabs.create"),detectLanguage:D("tabs.detectLanguage"),discard:D("tabs.discard"),duplicate:D("tabs.duplicate"),get:D("tabs.get"),getZoom:D("tabs.getZoom"),getZoomSettings:D("tabs.getZoomSettings"),goBack:D("tabs.goBack"),goForward:D("tabs.goForward"),group:D("tabs.group"),highlight:D("tabs.highlight"),move:D("tabs.move"),query:D("tabs.query"),reload:D("tabs.reload"),remove:D("tabs.remove"),setZoom:D("tabs.setZoom"),setZoomSettings:D("tabs.setZoomSettings"),ungroup:D("tabs.ungroup"),update:D("tabs.update"),onActivated:F("tabs.onActivated"),onCreated:F("tabs.onCreated"),onHighlighted:F("tabs.onHighlighted"),onMoved:F("tabs.onMoved"),onRemoved:F("tabs.onRemoved"),onReplaced:F("tabs.onReplaced"),onUpdated:F("tabs.onUpdated"),onZoomChange:F("tabs.onZoomChange")},reconnect(){m({type:"reconnect"})},resize(e,t){if(e<=0)throw new RangeError("width must greater than 0");if(t<=0)throw new RangeError("height must greater than 0");if(e*t>x)throw new RangeError(`width * height must be less than or equal to hb.maxArea: ${x}`);return V(~~e,~~t)},setPermissions(e,t){if(!Y)throw new Error("Admin token not set");return Z(e,t)},addRoles(e,t,r){if(!Y)throw new Error("Admin token not set");return z(e,t,r)},removeRoles(e,t,r){if(!Y)throw new Error("Admin token not set");return q(e,t,r)},enablePrivacyMode:e=>(e||(e=O),$(e)),disablePrivacyMode:X,get videoPaused(){return Q},set videoPaused(e){Q=e,m({type:"video_paused",data:e})},get playoutDelay(){return ee},set playoutDelay(e){ee=e,m({type:"playout_delay",data:e})},get volume(){return G},set volume(e){G=e,m({type:"volume",data:e})},sendEvent(e){m(e)},screenshot:D("screenshot"),ping(){m({type:"ping"})},destroy(){y?(g(),A&&URL.revokeObjectURL(A)):(window.removeEventListener("message",K),b&&(window.removeEventListener("keydown",I),window.removeEventListener("keyup",I)),window.removeEventListener("pagehide",R),window.removeEventListener("blur",R)),j.clear(),L.clear()}};return void 0!==Y&&(te.adminToken=Y),1!==G&&(te.volume=G),Q&&(te.videoPaused=Q),ee&&(te.playoutDelay=ee),te}async function Y(){const e=await fetch("https://region.hyperbeam.com");if(200!=e.status){return{region:"NA"}}return e.json()}export{J as SessionTerminatedError,W as TimedOutError,X as default,Y as getRegionInfo};